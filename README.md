# DOTA2 å¥½å‹å¯¹é»‘ç®¡ç†ç³»ç»Ÿ

> å½“å‰ç‰ˆæœ¬è¿˜æ˜¯V0.1åˆå§‹ç‰ˆæœ¬ï¼Œæ•´ä¸ªé¡¹ç›®å¼€å‘å®Œå…¨ä½¿ç”¨Claude Codeæ¥å…¨ç¨‹æ¥ç®¡ã€‚

## ğŸ“– é¡¹ç›®ç®€ä»‹

DOTA2 å¥½å‹å¯¹é»‘ç®¡ç†ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¸“ä¸ºå¥½å‹é—´5v5å¯¹é»‘è®¾è®¡çš„æˆ˜ç»©ç»Ÿè®¡å’Œç®¡ç†å¹³å°ã€‚ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„ç©å®¶ç®¡ç†ã€è‹±é›„ç®¡ç†ã€æ¯”èµ›è®°å½•å’Œæ•°æ®åˆ†æåŠŸèƒ½ï¼Œå¸®åŠ©ç©å®¶æ›´å¥½åœ°è¿½è¸ªå’Œäº†è§£å¯¹é»‘æˆ˜ç»©ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” ç”¨æˆ·è®¤è¯
- ç”¨æˆ·ç™»å½•/ç™»å‡º
- JWT ä¼šè¯ç®¡ç†
- æƒé™æ§åˆ¶

### ğŸ‘¥ ç©å®¶ç®¡ç†
- ç©å®¶ä¿¡æ¯ç®¡ç†ï¼ˆæ˜µç§°ã€ç”¨æˆ·åã€å¤´åƒç­‰ï¼‰
- MMR ç­‰çº§å’Œå¤©æ¢¯æ’å
- å¿ƒç†è¯„åˆ†ç³»ç»Ÿ
- åå¥½ä½ç½®è®¾ç½®
- ç©å®¶ç»Ÿè®¡æ•°æ®
- è‹±é›„ä½¿ç”¨ç»Ÿè®¡
- å¯¹æ‰‹åˆ†æï¼ˆå®¿æ•Œç»Ÿè®¡ï¼‰

### ğŸ¦¸ è‹±é›„ç®¡ç†
- è‹±é›„ä¿¡æ¯ç®¡ç†ï¼ˆåŸºäº Dota2 å®˜æ–¹æ•°æ®ï¼‰
- è‹±é›„ç»Ÿè®¡æ•°æ®
- ç©å®¶ä½¿ç”¨è¯¥è‹±é›„çš„ç»Ÿè®¡

### ğŸ® æ¯”èµ›ç®¡ç†
- æ¯”èµ›è®°å½•åˆ›å»ºå’Œç®¡ç†
- æ¯”èµ›è¯¦æƒ…æŸ¥çœ‹
- å‚èµ›é€‰æ‰‹ä¿¡æ¯
- MVP æ ‡è®°
- èƒœè´Ÿç»Ÿè®¡

### ğŸ“Š æ•°æ®ç»Ÿè®¡
- ä»ªè¡¨æ¿æ€»è§ˆ
- ç©å®¶ä¸ªäººç»Ÿè®¡
- è‹±é›„ä½¿ç”¨ç»Ÿè®¡
- æ¯”èµ›å†å²è®°å½•
- æ•°æ®å¯è§†åŒ–

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 19** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **Wouter** - è½»é‡çº§è·¯ç”±
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **Radix UI** - æ— éšœç¢ UI ç»„ä»¶
- **tRPC** - ç±»å‹å®‰å…¨çš„ API è°ƒç”¨
- **React Query** - æ•°æ®è·å–å’ŒçŠ¶æ€ç®¡ç†
- **Recharts** - æ•°æ®å¯è§†åŒ–
- **Framer Motion** - åŠ¨ç”»åº“

### åç«¯
- **Node.js** - è¿è¡Œæ—¶ç¯å¢ƒ
- **Express** - Web æ¡†æ¶
- **tRPC** - ç±»å‹å®‰å…¨çš„ API æ¡†æ¶
- **Drizzle ORM** - æ•°æ®åº“ ORM
- **MySQL** - å…³ç³»å‹æ•°æ®åº“
- **JWT** - èº«ä»½è®¤è¯
- **Zod** - æ•°æ®éªŒè¯

### å¼€å‘å·¥å…·
- **TypeScript** - ç±»å‹æ£€æŸ¥
- **Prettier** - ä»£ç æ ¼å¼åŒ–
- **Vitest** - å•å…ƒæµ‹è¯•
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²

## ğŸ“ é¡¹ç›®ç»“æ„

```
dota2_black_record/
â”œâ”€â”€ client/                 # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ contexts/       # React Context
â”‚   â”‚   â”œâ”€â”€ lib/            # å·¥å…·åº“
â”‚   â”‚   â””â”€â”€ _core/          # æ ¸å¿ƒåŠŸèƒ½ï¼ˆè®¤è¯ç­‰ï¼‰
â”‚   â””â”€â”€ public/             # é™æ€èµ„æº
â”œâ”€â”€ server/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ _core/              # æ ¸å¿ƒåŠŸèƒ½ï¼ˆè®¤è¯ã€ä¸­é—´ä»¶ç­‰ï¼‰
â”‚   â”œâ”€â”€ routers.ts          # tRPC è·¯ç”±å®šä¹‰
â”‚   â””â”€â”€ db.ts               # æ•°æ®åº“æ“ä½œ
â”œâ”€â”€ shared/                 # å…±äº«ä»£ç 
â”‚   â”œâ”€â”€ const.ts            # å…±äº«å¸¸é‡
â”‚   â””â”€â”€ types.ts            # å…±äº«ç±»å‹
â”œâ”€â”€ drizzle/                # æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ schema.ts           # æ•°æ®åº“ Schema
â”‚   â””â”€â”€ migrations/         # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ scripts/                # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml      # Docker Compose é…ç½®
â”œâ”€â”€ Dockerfile              # Docker é•œåƒé…ç½®
â””â”€â”€ package.json            # é¡¹ç›®ä¾èµ–
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 18.0.0
- **pnpm** >= 10.0.0 (æ¨è) æˆ– npm/yarn
- **MySQL** >= 8.0
- **Docker** (å¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²)

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ pnpm (æ¨è)
pnpm install

# æˆ–ä½¿ç”¨ npm
npm install
```

### ç¯å¢ƒé…ç½®

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```env
# åº”ç”¨é…ç½®
NODE_ENV=development
PORT=3000

# æ•°æ®åº“é…ç½®
DATABASE_URL=mysql://username:password@localhost:3306/dota2

# JWT é…ç½®
JWT_SECRET=your-secret-key-here

# åº”ç”¨ ID
VITE_APP_ID=dota2-battle-system
```

### æ•°æ®åº“åˆå§‹åŒ–

1. åˆ›å»º MySQL æ•°æ®åº“ï¼š

```bash
mysql -u root -p
CREATE DATABASE dota2 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼š

```bash
pnpm run db:push
```

æˆ–æ‰‹åŠ¨æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ï¼š

```bash
mysql -u root -p dota2 < scripts/init.sql
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå‰ç«¯ + åç«¯ï¼‰
pnpm run dev
```

åº”ç”¨å°†åœ¨ä»¥ä¸‹åœ°å€å¯åŠ¨ï¼š
- **å‰ç«¯**: http://localhost:5173
- **åç«¯ API**: http://localhost:3000

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºé¡¹ç›®
pnpm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start
```

## ğŸ³ Docker éƒ¨ç½²

ä½¿ç”¨ Docker Compose å¯ä»¥å¿«é€Ÿéƒ¨ç½²æ•´ä¸ªç³»ç»Ÿï¼š

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# åœæ­¢æœåŠ¡
docker compose down
```

è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜è¯·å‚è€ƒ [DEPLOYMENT.md](./DEPLOYMENT.md)

## ğŸ“ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- ä½¿ç”¨ Prettier è¿›è¡Œä»£ç æ ¼å¼åŒ–
- éµå¾ª ESLint è§„åˆ™

### å¯ç”¨è„šæœ¬

```bash
# å¼€å‘æ¨¡å¼
pnpm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start

# ç±»å‹æ£€æŸ¥
pnpm run check

# ä»£ç æ ¼å¼åŒ–
pnpm run format

# è¿è¡Œæµ‹è¯•
pnpm test

# æ•°æ®åº“è¿ç§»
pnpm run db:push
```

### æ·»åŠ æ–°åŠŸèƒ½

1. **æ·»åŠ æ–°çš„ API è·¯ç”±**ï¼šåœ¨ `server/routers.ts` ä¸­æ·»åŠ æ–°çš„è·¯ç”±å®šä¹‰
2. **æ·»åŠ æ•°æ®åº“æ“ä½œ**ï¼šåœ¨ `server/db.ts` ä¸­æ·»åŠ ç›¸åº”çš„æ•°æ®åº“æŸ¥è¯¢å‡½æ•°
3. **æ·»åŠ å‰ç«¯é¡µé¢**ï¼šåœ¨ `client/src/pages/` ä¸­åˆ›å»ºæ–°é¡µé¢ç»„ä»¶
4. **æ›´æ–°è·¯ç”±**ï¼šåœ¨ `client/src/App.tsx` ä¸­æ·»åŠ æ–°è·¯ç”±

### æ•°æ®åº“ Schema ä¿®æ”¹

1. ä¿®æ”¹ `drizzle/schema.ts` ä¸­çš„ Schema å®šä¹‰
2. è¿è¡Œ `pnpm run db:push` ç”Ÿæˆè¿ç§»æ–‡ä»¶
3. è¿ç§»æ–‡ä»¶ä¼šè‡ªåŠ¨åº”ç”¨åˆ°æ•°æ®åº“

## ğŸ—„ï¸ æ•°æ®åº“ç»“æ„

### ä¸»è¦æ•°æ®è¡¨

- **players** - ç©å®¶ä¿¡æ¯è¡¨
- **heroes** - è‹±é›„ä¿¡æ¯è¡¨
- **matches** - æ¯”èµ›ä¿¡æ¯è¡¨
- **matchParticipants** - æ¯”èµ›å‚ä¸è€…å…³è”è¡¨

è¯¦ç»†çš„æ•°æ®åº“ç»“æ„è¯·æŸ¥çœ‹ `drizzle/schema.ts`

## ğŸ”’ å®‰å…¨è¯´æ˜

- æ‰€æœ‰å¯†ç ä½¿ç”¨å®‰å…¨çš„å“ˆå¸Œç®—æ³•å­˜å‚¨
- JWT Token ç”¨äºä¼šè¯ç®¡ç†
- API è·¯ç”±ä½¿ç”¨ tRPC è¿›è¡Œç±»å‹å®‰å…¨çš„éªŒè¯
- æ•æ„Ÿä¿¡æ¯å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ Issue è”ç³»ã€‚

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä¸ºä¸ªäººé¡¹ç›®ï¼Œä¸»è¦ç”¨äºå¥½å‹é—´çš„å¯¹é»‘æˆ˜ç»©ç»Ÿè®¡ã€‚å½“å‰ç‰ˆæœ¬ä¸º V0.1ï¼ŒåŠŸèƒ½ä»åœ¨ä¸æ–­å®Œå–„ä¸­ã€‚